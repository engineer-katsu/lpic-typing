<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LPIC Penguin Dash</title>
    <style>
        :root {
            --bg-dark: #0d1117;
            --ice-blue: #a5f3fc;
            --term-green: #00ff41;
            --text-white: #ffffff;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-white);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ã‚²ãƒ¼ãƒ ç”»é¢ã®ã‚³ãƒ³ãƒ†ãƒŠ */
        #game-stage {
            position: relative;
            width: 100vw;
            height: 400px;
            background: linear-gradient(to bottom, #001f3f 0%, #0074d9 70%, var(--ice-blue) 70%, #ffffff 100%);
            border-bottom: 5px solid #ddd;
            overflow: hidden;
            margin-top: 20px;
        }

        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º */
        #hud {
            width: 90%;
            max-width: 800px;
            display: flex;
            justify-content: space-between;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* æµã‚Œã‚‹æ–‡å­—ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .word-box {
            position: absolute;
            white-space: nowrap;
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            color: var(--text-white);
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            transition: transform 0.1s linear;
        }

        .word-box .current { color: var(--term-green); text-decoration: underline; }
        .word-box .desc { font-size: 0.8rem; display: block; color: #aaa; }

        /* ãƒšãƒ³ã‚®ãƒ³ã®ç°¡æ˜“è¡¨ç¤ºï¼ˆç”»åƒãŒãªã„å ´åˆç”¨ï¼‰ */
        .penguin-icon {
            position: absolute;
            bottom: 25%;
            left: 50px;
            font-size: 3rem;
            z-index: 10;
        }

        /* çµæœç”»é¢ */
        #result-screen {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            padding: 40px;
            border: 2px solid var(--term-green);
            text-align: center;
            z-index: 100;
        }

        #start-btn {
            padding: 15px 30px;
            font-size: 1.5rem;
            background: var(--term-green);
            color: black;
            border: none;
            cursor: pointer;
            margin-top: 100px;
        }
    </style>
</head>
<body>

<div id="hud">
    <div>Time: <span id="timer">60</span>s</div>
    <div>Score: <span id="score">0</span></div>
</div>

<div id="game-stage">
    <div class="penguin-icon" id="player">ğŸ§</div>
    <button id="start-btn">ã‚²ãƒ¼ãƒ é–‹å§‹ (Enter)</button>
</div>

<div id="result-screen">
    <h2>çµæœç™ºè¡¨</h2>
    <p id="final-score"></p>
    <p id="rank-msg"></p>
    <button onclick="location.reload()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
</div>

<script>
const questions = [
        // --- 101: ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç† ---
        { cmd: "ls -la", desc: "éš ã—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°ã‚’è¡¨ç¤º" },
        { cmd: "ls -ltr", desc: "æ›´æ–°æ—¥æ™‚ãŒå¤ã„é †ã«è¡¨ç¤ºï¼ˆå®Ÿå‹™ã§ãƒ­ã‚°ç¢ºèªã«å¤šç”¨ï¼‰" },
        { cmd: "cp -rp src/ dest/", desc: "æ¨©é™ã‚„å±æ€§ã‚’ä¿æŒã—ãŸã¾ã¾ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å†å¸°çš„ã«ã‚³ãƒ”ãƒ¼" },
        { cmd: "rm -rf /tmp/olddata", desc: "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è­¦å‘Šãªã—ã§å¼·åˆ¶å‰Šé™¤ï¼ˆå–æ‰±æ³¨æ„ï¼‰" },
        { cmd: "mkdir -p /a/b/c", desc: "ä¸­é–“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å«ã‚ã¦ä¸€æ°—ã«ä½œæˆ" },
        { cmd: "ln -s target link", desc: "ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ï¼ˆã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼‰ã‚’ä½œæˆ" },
        { cmd: "find /var/log -name '*.log'", desc: "æŒ‡å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢" },
        { cmd: "chown root:root file", desc: "æ‰€æœ‰è€…ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä¸¡æ–¹rootã«å¤‰æ›´" },
        { cmd: "chmod 644 file", desc: "æ‰€æœ‰è€…ã«èª­æ›¸æ¨©é™ã€ãã®ä»–ã«èª­è¾¼æ¨©é™ã‚’ä»˜ä¸" },
        { cmd: "chmod 755 script.sh", desc: "ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸" },
        { cmd: "umask 022", desc: "æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¨©é™ã‚’è¨­å®š" },

        // --- 101: ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç† ---
        { cmd: "cat /etc/passwd", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’å…¨è¡¨ç¤º" },
        { cmd: "less /var/log/messages", desc: "é•·ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ç”»é¢ãšã¤è¡¨ç¤ºï¼ˆé–²è¦§ã«æœ€é©ï¼‰" },
        { cmd: "head -n 10 file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­10è¡Œã‚’è¡¨ç¤º" },
        { cmd: "tail -f /var/log/syslog", desc: "ãƒ­ã‚°ã®æ›´æ–°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–" },
        { cmd: "grep -i 'error' file", desc: "å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã›ãšæ¤œç´¢" },
        { cmd: "grep -v '^#' file", desc: "ã‚³ãƒ¡ãƒ³ãƒˆè¡Œï¼ˆ#é–‹å§‹ï¼‰ã‚’é™¤å¤–ã—ã¦è¡¨ç¤º" },
        { cmd: "sed -i 's/old/new/g' file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®æ–‡å­—åˆ—ã‚’ç›´æ¥ç½®æ›" },
        { cmd: "awk '{print $1}' file", desc: "å„è¡Œã®1ç•ªç›®ã®é …ç›®ã ã‘ã‚’æŠ½å‡º" },
        { cmd: "sort -u file", desc: "é‡è¤‡ã‚’æ’é™¤ã—ã¦ä¸¦ã¹æ›¿ãˆ" },
        { cmd: "wc -l file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã®è¡Œæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ" },

        // --- 101: ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»ãƒ‡ã‚£ã‚¹ã‚¯ ---
        { cmd: "ps aux", desc: "å®Ÿè¡Œä¸­ã®å…¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’è©³ç´°è¡¨ç¤º" },
        { cmd: "top", desc: "ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆQã§çµ‚äº†ï¼‰" },
        { cmd: "kill -9 1234", desc: "ãƒ—ãƒ­ã‚»ã‚¹ID 1234ã‚’å¼·åˆ¶çµ‚äº†" },
        { cmd: "jobs", desc: "ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã®ä¸€è¦§ã‚’è¡¨ç¤º" },
        { cmd: "df -h", desc: "ãƒ‡ã‚£ã‚¹ã‚¯ã®ç©ºãå®¹é‡ã‚’äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ã§è¡¨ç¤º" },
        { cmd: "du -sh *", desc: "ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®å®¹é‡åˆè¨ˆã‚’è¡¨ç¤º" },
        { cmd: "fdisk -l", desc: "ãƒ‡ã‚£ã‚¹ã‚¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³æ§‹æˆã‚’ç¢ºèª" },
        { cmd: "mount", desc: "ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’è¡¨ç¤º" },

        // --- 102: ã‚·ã‚§ãƒ«ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ ---
        { cmd: "echo $PATH", desc: "ã‚³ãƒãƒ³ãƒ‰ã®æ¤œç´¢ãƒ‘ã‚¹ã‚’è¡¨ç¤º" },
        { cmd: "export VAR=val", desc: "ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š" },
        { cmd: "alias ll='ls -l'", desc: "ã‚³ãƒãƒ³ãƒ‰ã®åˆ¥åã‚’è¨­å®š" },
        { cmd: "ip addr show", desc: "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’è¡¨ç¤º" },
        { cmd: "ip route show", desc: "ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¡¨ç¤º" },
        { cmd: "ping -c 4 8.8.8.8", desc: "4å›ã ã‘ç–é€šç¢ºèªã‚’é€ã‚‹" },
        { cmd: "netstat -tulnp", desc: "å¾…æ©Ÿä¸­ã®ãƒãƒ¼ãƒˆã¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª" },
        { cmd: "ss -ant", desc: "TCPæ¥ç¶šã®çŠ¶æ…‹ã‚’è¡¨ç¤º" },
        { cmd: "dig google.com", desc: "DNSã®æ­£å¼•ãæƒ…å ±ã‚’ç¢ºèª" },
        { cmd: "ssh -p 22 user@host", desc: "ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶š" },

        // --- 102: ã‚·ã‚¹ãƒ†ãƒ ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ç®¡ç† ---
        { cmd: "systemctl start httpd", desc: "Webã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•" },
        { cmd: "systemctl stop firewalld", desc: "ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚’åœæ­¢" },
        { cmd: "systemctl enable sshd", desc: "SSHã®è‡ªå‹•èµ·å‹•ã‚’æœ‰åŠ¹åŒ–" },
        { cmd: "systemctl status crond", desc: "å®šæœŸå®Ÿè¡Œã‚µãƒ¼ãƒ“ã‚¹ã®ç¨¼åƒçŠ¶æ…‹ã‚’ç¢ºèª" },
        { cmd: "journalctl -xe", desc: "ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®æœ«å°¾ã‹ã‚‰ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèª" },
        { cmd: "crontab -e", desc: "å®šæœŸå®Ÿè¡Œã‚¿ã‚¹ã‚¯ã®ç·¨é›†" },
        { cmd: "useradd -m -s /bin/bash user", desc: "ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã‚’æŒ‡å®šã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ " },
        { cmd: "passwd username", desc: "æŒ‡å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´" },
        { cmd: "groupadd team-a", desc: "æ–°ã—ã„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆ" },
        { cmd: "id root", desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®UID/GIDã‚’ç¢ºèª" },

        // --- 102: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç† ---
        { cmd: "yum install nginx", desc: "RedHatç³»ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" },
        { cmd: "apt update && apt upgrade", desc: "Debianç³»ã§å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°" },
        { cmd: "rpm -qa", desc: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®RPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¨è¡¨ç¤º" },
        { cmd: "dpkg -l", desc: "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€è¦§è¡¨ç¤º" },
        
        // --- é »å‡ºãƒ»é‡è¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« ---
        { cmd: "/etc/hostname", desc: "ãƒ›ã‚¹ãƒˆåã‚’è¨­å®šã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/hosts", desc: "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ›ã‚¹ãƒˆåã®å¯¾å¿œè¡¨" },
        { cmd: "/etc/resolv.conf", desc: "DNSã‚µãƒ¼ãƒãƒ¼ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/fstab", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆè¨­å®š" },
        { cmd: "/etc/shadow", desc: "æš—å·åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¿å­˜ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«" },
        { cmd: "/etc/sudoers", desc: "sudoæ¨©é™ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆvisudoã§ç·¨é›†ï¼‰" }
    ];

    let score = 0;
    let timeLeft = 60;
    let gameActive = false;
    let activeWords = [];
    let gameSpeed = 2; // æ–‡å­—ã®æµã‚Œã‚‹é€Ÿåº¦
    const stage = document.getElementById('game-stage');

    class Word {
        constructor() {
            const q = questions[Math.floor(Math.random() * questions.length)];
            this.fullText = q.cmd;
            this.desc = q.desc;
            this.typedIndex = 0;
            this.x = window.innerWidth;
            this.y = Math.random() * 200 + 50; // å‡ºç¾ã™ã‚‹é«˜ã•

            this.element = document.createElement('div');
            this.element.className = 'word-box';
            this.updateElement();
            stage.appendChild(this.element);
        }

        updateElement() {
            const typed = `<span class="current">${this.fullText.substring(0, this.typedIndex)}</span>`;
            const untyped = this.fullText.substring(this.typedIndex);
            this.element.innerHTML = `${typed}${untyped}<span class="desc">${this.desc}</span>`;
            this.element.style.left = this.x + 'px';
            this.element.style.top = this.y + 'px';
        }

        move() {
            this.x -= gameSpeed;
            this.element.style.left = this.x + 'px';
        }
    }

    function startGame() {
        gameActive = true;
        document.getElementById('start-btn').style.display = 'none';
        
        // 1.5ç§’ã”ã¨ã«æ–°ã—ã„ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
        const spawner = setInterval(() => {
            if (!gameActive) clearInterval(spawner);
            activeWords.push(new Word());
        }, 1500);

        // ã‚¿ã‚¤ãƒãƒ¼
        const timerInt = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if (timeLeft <= 0) {
                gameActive = false;
                clearInterval(timerInt);
                showResult();
            }
        }, 1000);

        gameLoop();
    }

    function gameLoop() {
        if (!gameActive) return;

        activeWords.forEach((word, index) => {
            word.move();
            // ç”»é¢å¤–ã«å‡ºãŸã‚‰ãƒŸã‚¹
            if (word.x < -300) {
                word.element.remove();
                activeWords.splice(index, 1);
            }
        });

        requestAnimationFrame(gameLoop);
    }

    window.addEventListener('keydown', (e) => {
        if (!gameActive) {
            if (e.key === 'Enter') startGame();
            return;
        }

        // ç¾åœ¨ç”»é¢ã«ã‚ã‚‹ä¸­ã§ä¸€ç•ªå·¦ã«ã‚ã‚‹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã™ã‚‹
        if (activeWords.length === 0) return;
        
        // æœ€ã‚‚å·¦ã«ã‚ã‚‹ãƒ¯ãƒ¼ãƒ‰ã‚’å–å¾—
        let targetWord = activeWords[0];

        if (e.key === targetWord.fullText[targetWord.typedIndex]) {
            targetWord.typedIndex++;
            score += 10;
            document.getElementById('score').innerText = score;
            
            if (targetWord.typedIndex >= targetWord.fullText.length) {
                targetWord.element.style.background = "var(--term-green)";
                setTimeout(() => {
                    targetWord.element.remove();
                }, 100);
                activeWords.shift();
                score += 100; // æ‰“ã¡åˆ‡ã‚Šãƒœãƒ¼ãƒŠã‚¹
            } else {
                targetWord.updateElement();
            }
        }
    });

    function showResult() {
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = `ã‚¹ã‚³ã‚¢: ${score}ç‚¹`;
        let rank = "LPIC ç·´ç¿’ç”Ÿç´š";
        if (score > 1000) rank = "rootæ¨©é™ç´š";
        else if (score > 500) rank = "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ç´š";
        document.getElementById('rank-msg').innerText = `ç§°å·: ${rank}`;
    }

</script>
</body>
</html>

